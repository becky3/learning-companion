{
  "description": "RAG評価用テストデータセット - 架空RPG「勇者の冒険」攻略情報",
  "version": "2.1.0",
  "queries": [
    {
      "id": "q1",
      "query": "守護のマント 入手場所",
      "description": "特定アイテムの入手場所を問うクエリ。正しいソースからのみ情報を取得すべき。",
      "category": "normal",
      "expected_sources": [
        "https://example.com/yuusha/item/shugo-mantle.html",
        "https://example.com/yuusha/dungeon/sky-castle.html"
      ],
      "expected_keywords": ["天空城", "古代神殿", "守護のマント"],
      "negative_sources": [
        "https://example.com/yuusha/dungeon/trial-tower.html"
      ],
      "notes": "LLMが「試練の塔」のアイテムとして誤回答するケースの検証"
    },
    {
      "id": "q2",
      "query": "試練の塔 アイテム",
      "description": "ダンジョン固有のアイテム情報。distance > 0.5 の無関係データが混入するケースの検証。",
      "category": "normal",
      "expected_sources": [
        "https://example.com/yuusha/dungeon/trial-tower.html"
      ],
      "expected_keywords": ["試練の塔", "力の種", "素早さの種"],
      "negative_sources": [
        "https://example.com/other-rpg/dungeon/trial.html",
        "https://example.com/fantasy-quest/dungeon/trial.html"
      ],
      "notes": "異なるゲームのデータが同程度のdistanceでマッチする問題"
    },
    {
      "id": "q3",
      "query": "魔王ダークロード 攻略",
      "description": "ラスボス攻略情報。関連性の高い情報が優先されるべき。",
      "category": "normal",
      "expected_sources": [
        "https://example.com/yuusha/boss/darklord.html",
        "https://example.com/yuusha/strategy/final-stage.html"
      ],
      "expected_keywords": ["ダークロード", "光の宝玉", "影の従者"],
      "negative_sources": [],
      "notes": "基本的な検索精度テスト"
    },
    {
      "id": "q4",
      "query": "勇者 おすすめ装備",
      "description": "キャラクター装備の推奨情報。複数の関連チャンクが期待される。",
      "category": "normal",
      "expected_sources": [
        "https://example.com/yuusha/job/hero.html",
        "https://example.com/yuusha/equipment/weapon.html",
        "https://example.com/yuusha/equipment/armor.html"
      ],
      "expected_keywords": ["聖剣エクスカリア", "光輝の鎧", "勇者の盾"],
      "negative_sources": [],
      "notes": "複数ソースからの情報統合テスト"
    },
    {
      "id": "q5",
      "query": "冒険者ギルド 場所",
      "description": "特定施設の場所情報。単純なファクト検索。",
      "category": "normal",
      "expected_sources": [
        "https://example.com/yuusha/town/startville.html",
        "https://example.com/yuusha/facility/guild.html"
      ],
      "expected_keywords": ["スタートビル", "冒険者ギルド", "仲間"],
      "negative_sources": [],
      "notes": "基本的な地名・施設検索"
    },
    {
      "id": "q6",
      "query": "賢者の書 入手方法",
      "description": "レアアイテムの入手方法。複数の入手ルートがある場合のテスト。",
      "category": "normal",
      "expected_sources": [
        "https://example.com/yuusha/item/sage-book.html",
        "https://example.com/yuusha/job/sage.html"
      ],
      "expected_keywords": ["賢者の書", "賢者", "転職の祭壇", "ドロップ"],
      "negative_sources": [],
      "notes": "賢者への転職に必要なアイテム情報"
    },
    {
      "id": "q7",
      "query": "魔将グレイブ 弱点",
      "description": "中ボスの弱点情報。特定の戦闘攻略情報の検索精度テスト。",
      "category": "close_ranking",
      "expected_sources": [
        "https://example.com/yuusha/boss/grave.html"
      ],
      "expected_keywords": ["グレイブ", "雷撃魔法", "攻撃力強化"],
      "negative_sources": [
        "https://example.com/yuusha/boss/darklord.html"
      ],
      "notes": "ボス間の情報混同を防ぐテスト"
    },
    {
      "id": "q8",
      "query": "ミニゲーム広場 景品",
      "description": "ミニゲームの報酬情報。追加コンテンツ。",
      "category": "close_ranking",
      "expected_sources": [
        "https://example.com/yuusha/minigame/plaza.html"
      ],
      "expected_keywords": ["ミニゲーム", "メダル", "景品"],
      "negative_sources": [],
      "notes": "ミニゲーム関連情報の検索"
    },
    {
      "id": "q9",
      "query": "光の宝玉 使い方",
      "description": "vector↔BM25不一致テスト。ベクトル検索はボス攻略ページ、BM25はアイテム名で別ページをヒットする可能性。",
      "category": "method_mismatch",
      "expected_sources": [
        "https://example.com/yuusha/boss/darklord.html",
        "https://example.com/yuusha/strategy/final-stage.html"
      ],
      "expected_keywords": ["光の宝玉", "闇の衣", "ダークロード"],
      "negative_sources": [],
      "notes": "アイテムの使い道がボス攻略に直結するケースでの手法間ランキング不一致"
    },
    {
      "id": "q10",
      "query": "転職の祭壇 場所と使い方",
      "description": "vector↔BM25不一致テスト。賢者の書とジョブガイドで異なるランキングになりうる。",
      "category": "method_mismatch",
      "expected_sources": [
        "https://example.com/yuusha/item/sage-book.html",
        "https://example.com/yuusha/job/sage.html"
      ],
      "expected_keywords": ["転職の祭壇", "賢者の書", "賢者"],
      "negative_sources": [],
      "notes": "同一キーワードが複数ドキュメントに出現し、ランキングが分かれるケース"
    },
    {
      "id": "q11",
      "query": "ドラゴンスレイヤー 入手",
      "description": "vector↔BM25不一致テスト。武器名でBM25は武器リストを、ベクトル検索はジョブガイドを優先する可能性。",
      "category": "method_mismatch",
      "expected_sources": [
        "https://example.com/yuusha/equipment/weapon.html"
      ],
      "expected_keywords": ["ドラゴンスレイヤー", "戦士"],
      "negative_sources": [],
      "notes": "固有名詞検索でBM25が有利なケース"
    },
    {
      "id": "q12",
      "query": "ラスボスまでの道のり",
      "description": "意味的検索テスト。BM25ゼロヒット想定。「ラスボス」という直接キーワードはドキュメントに少ない。",
      "category": "semantic_only",
      "expected_sources": [
        "https://example.com/yuusha/strategy/final-stage.html",
        "https://example.com/yuusha/boss/darklord.html"
      ],
      "expected_keywords": ["魔王城", "ダークロード", "深淵の穴"],
      "negative_sources": [],
      "notes": "「ラスボス」→「魔王ダークロード」の意味的接続をベクトル検索が捉えられるか"
    },
    {
      "id": "q13",
      "query": "パーティ編成のコツ",
      "description": "意味的検索テスト。抽象的な質問で、複数のジョブ・装備情報が関連する。",
      "category": "semantic_only",
      "expected_sources": [
        "https://example.com/yuusha/facility/guild.html",
        "https://example.com/yuusha/job/hero.html",
        "https://example.com/yuusha/job/sage.html"
      ],
      "expected_keywords": ["パーティ", "仲間", "最大4人"],
      "negative_sources": [],
      "notes": "抽象クエリでベクトル検索の意味理解が問われる"
    },
    {
      "id": "q14",
      "query": "終盤のレベル上げスポット",
      "description": "意味的検索テスト。直接「レベル上げ」を含むドキュメントは限定的。",
      "category": "semantic_only",
      "expected_sources": [
        "https://example.com/yuusha/strategy/final-stage.html"
      ],
      "expected_keywords": ["メタルゴーレム", "金属スライム", "レベル上げ"],
      "negative_sources": [],
      "notes": "魔王城攻略ガイドに「レベル上げにも適しています」の記述がある"
    },
    {
      "id": "q15",
      "query": "天気予報 明日の気温",
      "description": "無関係クエリ。RPG攻略とは全く無関係な質問。",
      "category": "noise_rejection",
      "expected_sources": [],
      "expected_keywords": [],
      "negative_sources": [],
      "notes": "ノイズ排除テスト。検索結果が空であることが期待される"
    },
    {
      "id": "q16",
      "query": "Pythonのリスト内包表記",
      "description": "無関係クエリ。プログラミング関連の質問。",
      "category": "noise_rejection",
      "expected_sources": [],
      "expected_keywords": [],
      "negative_sources": [],
      "notes": "ノイズ排除テスト。RPGデータからの誤ヒットがないことを確認"
    },
    {
      "id": "q17",
      "query": "グレイブ ダークロード 違い",
      "description": "僅差ランキングテスト。2体のボスの比較クエリで正確なランキングが求められる。",
      "category": "close_ranking",
      "expected_sources": [
        "https://example.com/yuusha/boss/grave.html",
        "https://example.com/yuusha/boss/darklord.html"
      ],
      "expected_keywords": ["グレイブ", "ダークロード", "魔将"],
      "negative_sources": [],
      "notes": "2体のボス情報を両方返す必要があるが、順位の優劣は問わない"
    },
    {
      "id": "q18",
      "query": "聖剣エクスカリア",
      "description": "キーワード完全一致テスト。固有名詞での検索でBM25が有利。",
      "category": "keyword_exact",
      "expected_sources": [
        "https://example.com/yuusha/job/hero.html",
        "https://example.com/yuusha/equipment/weapon.html"
      ],
      "expected_keywords": ["聖剣エクスカリア", "勇者"],
      "negative_sources": [],
      "notes": "固有名詞の完全一致でBM25が正確にヒットすることを検証"
    },
    {
      "id": "q19",
      "query": "こんにちわ",
      "description": "BM25トークンマッチによるノイズヒットのテスト。感動詞がRPGコンテンツにトークンマッチする可能性。",
      "category": "noise_rejection",
      "expected_sources": [],
      "expected_keywords": [],
      "negative_sources": [],
      "notes": "BM25-only ヒットが similarity_threshold 設定時に除外されることを検証（#499）"
    },
    {
      "id": "q20",
      "query": "名前 攻撃 一覧",
      "description": "RPGテーブルの頻出語だが意味的に無関係なクエリ。BM25がテーブルデータにマッチする可能性。",
      "category": "noise_rejection",
      "expected_sources": [],
      "expected_keywords": [],
      "negative_sources": [],
      "notes": "汎用的なキーワードによるBM25ノイズヒットが品質ゲートで除外されることを検証（#499）"
    }
  ],
  "metadata": {
    "created_at": "2026-02-09",
    "updated_at": "2026-02-18",
    "purpose": "RAG検索精度の定量評価（Precision/Recall/NDCG/MRR計測）",
    "related_issues": ["#176", "#177", "#501"],
    "categories": {
      "normal": "正常検索（両方ヒット・明確差）",
      "close_ranking": "僅差ランキング",
      "method_mismatch": "手法間不一致（vector↔BM25）",
      "semantic_only": "意味的検索（BM25ゼロヒット想定）",
      "noise_rejection": "無関係クエリ（ノイズ排除）",
      "keyword_exact": "キーワード完全一致"
    },
    "notes": [
      "expected_sources: 検索結果に含まれるべきソースURL",
      "negative_sources: 検索結果に含まれてはいけないソースURL（ハルシネーション検出用）",
      "expected_keywords: 回答に含まれるべきキーワード（将来の回答品質評価用）",
      "v1.1.0: 著作権問題回避のため架空RPG「勇者の冒険」に変更",
      "v2.0.0: 8→18件に拡充（CC移行評価用）、カテゴリ分類追加",
      "v2.1.0: BM25ノイズヒット検出用クエリ追加（q19, q20）（#499）"
    ]
  }
}
