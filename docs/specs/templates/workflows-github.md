# workflows/github テンプレート

`workflows/github/` カテゴリの仕様書に適用する。GitHub Actions 上で動くワークフローの定義。

## ヘッダー形式

仕様書は以下の形式で始める:

```markdown
# {タイトル}

{1行の説明文}
```

- **タイトル**（h1）: 機能・ツール・プロセスの名前
- **説明文**: この仕様書が定義する対象を1文で要約する
- 見出しレベル: h1 は文書タイトルのみ、h2 はメインセクション、h3 以下はセクション内の構造化に使用する

## セクション一覧

| セクション | 義務 |
|---|---|
| 概要 | 必須 |
| 背景 | 必須 |
| 制約 | 任意 |
| トリガー条件 | 必須 |
| 処理フロー | 必須 |
| 出力 | 必須 |
| エッジケース | 任意 |
| 関連ドキュメント | 任意 |

## 概要 [必須]

この仕様が「何を」定義するのかを簡潔に記載する。

- 対象の目的・役割を簡潔に
- スコープ（何を含み、何を含まないか）— 必要な場合のみ

**記載しない**:

- 技術的な詳細
- 経緯・動機

## 背景 [必須]

この仕様が存在する理由を記載する。

- 解決する課題・動機
- 誰にとってどう有益か

## 制約 [任意]

振る舞いの制約・既知の制限事項・前提条件を記載する。

- 不変条件（「〜してはならない」「〜の場合は〜する」）
- 既知の制限事項・環境依存の注意点

How の追加が必要な場合は HTML コメントで理由を記録する。

## トリガー条件 [必須]

ワークフローが発火する条件を定義する。

- 対象イベント（push, pull_request, schedule, workflow_dispatch 等）
- ブランチ・パスフィルタ
- 実行条件（if 条件）

## 処理フロー [必須]

ワークフローが実行する処理の流れを定義する。複数のモードがある場合は h3 で分割する。

- ステップごとの振る舞い（何をするか、どの順で実行するか）
- 条件分岐・並列実行がある場合はその構造

## 出力 [必須]

ワークフローの処理結果と外部への影響を定義する。

- 成果物（生成されるファイル・レポート等）
- 副作用（PR 作成、コメント投稿、ラベル付与、通知等）
- 成功・失敗時のそれぞれの挙動

## エッジケース [任意]

通常フローから外れるケースの振る舞いを記載する。

**例**:

- 同時実行・競合時の挙動
- タイムアウト・API レート制限時の挙動
- 前提条件が満たされない場合の挙動

## 関連ドキュメント [任意]

関連する仕様書や外部ドキュメントへのリンクを記載する。
